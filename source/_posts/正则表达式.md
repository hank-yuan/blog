---
title: 正则表达式
date: 2017-09-15 15:19:41
tags: 正则
categories: 知识储备
---

## 1. js 中的正则表达式声明和使用
 
通过构造函数定义
```javascript
var 变量名= new RegExp(/表达式/);
```

通过直接量定义（简单方便，我们一般用这个）
```javascript
var 变量名= /表达式/;
```
常用方法，可用于检测传入的字符串是否符合该规则并返回布尔值
```javascript
exp.test("要检测的字符串")
```
## 2. 预定义类

### 预定义类和转义符

`.`      [^\n\r]        除了换行和回车之外的任意字符

`\d `   [0-9]          数字字符digit

`\D`   [^0-9]        非数字字符

`\w`   [a-zA-Z0-9\_]      单词字符(所有的字母数字和_) word

`\W`  [^a-zA-Z0-9_]    非单词字符

`\s`    [\f\r\n\t\v]  不可见字符 space

` \S `   [^\f\r\n\t\v] 可见字符

### 转义符

\f 表示换页 form feed

\t 表示水平制表符 table

\v 表示垂直制表符 vertical table

\r,\n,\r\n的区别

>早期，打字机换行（\n newline）之后只会下移一行，需要回到一行的开头（\r return）才能继续打字  
老式的操作系统也继承了打字机的这一特性，但用户换行之后一般都是要回到开头的，因此新式的操作系统为了方便将键盘上的Enter键的含义修改为\r\n或者直接将\n的含义改为“移动到下一行的开头”。

### 基本语法补充

| 表示或 或的优先级最低 可以通过()提升优先级

## 3.  字符类

### 字符类

简单类[abc] 表示该位置可以出现的字符

负向类[^abc] 表示该位置不可以出现的字符

范围类[a-e]  表示该位置可以出现的字符的范围

组合类[a-xA-E0-9] 范围类的组合


## 4.       边界 量词 括号

### 边界

^ 会匹配行或者字符串的起始位置

^只有在[]内才表示非 在外边表示开始

$ 会匹配行或字符串的结尾位置

^$在一起 表示必须是这个（精确匹配）

### 量词

"*"  重复零次或更多 x>=0

"+"  重复一次或更多次 x>=1

"?"  重复零次或一次  x=(0||1)

{n}   n次  x=n

{n,}  重复n次或更多  x>=n

{n,m} 重复出现的次数比n多但比m少 n<=x<=m

### 括号总结

()表示一组

[]表示一个字符的位置

{}表示次数

## 5.常见项目的匹配

常见项目的匹配网上有很多（例如搜索常用正则表达式大全），无需记忆，能看懂即可

#### 匹配国内电话号码：

`/^0\d{2,3}-\d{7,8}$/`

#### 匹配姓名：

`/^[\u4e00-\u9fa5]{2,}$/`

#### 匹配腾讯QQ号：

`/^[1-9]\d{4,10}$/`

#### 匹配手机号：

`/^(13[0-9]|14[57]|15[0-9]|18[0-9])\d{8}$/`

#### 匹配邮箱：

`/^\w+([+-.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/`

## 6. 封装自己的trim方法

replace() 方法

#### 格式:

字符串对象.replace(正则式或字符串，替换的目标字符)

#### 返回值:

替换后的新字符串

### 封装自己的trim()方法
```javascript
function trim(str) {

    return str.replace(/^\s+/,"").replace(/\s+$/,"");

}

function trim(str) {

    return str.replace(/^\s+|\s+$/,"");

}
```

使用trim()方法检测用户输入

### 正则表达式的常见匹配模式

g 全局模式（Global），在匹配时查找所有字符串，而非发现一个就停止

i 忽略大小写模式（IgnoreCase），在匹配时忽略大小写

## 其他正则方法

### RegExp 对象方法

 test    检索字符串中指定的值。返回 true 或 false。

exec  检索字符串中指定的值。返回一个数组包括：值、位置、输入的文本。

### String 对象的方法

match        找到一个或多个正则表达式的匹配。

replace      替换与正则表达式匹配的子串。
